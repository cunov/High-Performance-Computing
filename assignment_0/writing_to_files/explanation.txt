only contiguous memory allocation can be used when writing in binary format
